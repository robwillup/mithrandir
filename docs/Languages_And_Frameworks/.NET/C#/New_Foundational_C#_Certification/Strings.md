## Strings

You'll need to write C# code to combine and format literal and variable data to create a new value. That value might be displayed, saved to file, or sent across the network. Fortunatelly, C# provides many ways to combine and format data.

Suppose you want to display the output of a command-line application you're writing. You want to display values including literal text, text in variables, numeric data, and textual data in other languages.

Learning Objectives

* Create string data containing tabs, new lines, and other special characters.
* Create string data containing Unicode characters.
* Combine string data into a new string value via concatenation.
* Combine string data into a new string value via interpolation.

### Character escape sequences

An escape character sequence is an instruction to the runtime to insert a special character that will affect the output of your string. In C#, the escape character sequence begins with a backslash `followed` followed by the character you're escaping. For example, the `\n` sequence wil add a new line, and a `\t` sequence will add a tab. `\"` will escape the double quote character.

What if you need to use the backslash for other purposes, like to display a file path?

```csharp
Console.WriteLine("C:\source\repos");
```

Unfortunately, C# reserves the backslash for escape sequences, so if you run the code, the compiler will display the following error:

```
error CS1009: Unrecognized escape sequence
```

The problem is the sequence `\s`. The `\r` doesn't produce an error because it's a valid escape sequence for carriage return. However, you don't want to use a carriage return in this context.

To solve this problem, you use the `\\` to display a single backslash.

```csharp
Console.WriteLine("C:\\source\\repos");
```

### Verbatim string literal

A verbatim string literal will keep all whitespace and characters without the need to escape the backslash. To create a verbatim string, use the `@` directive before the literal string.

```csharp
Console.WriteLine(@"    c:\source\repos    
        (this is where your code goes)");
```

Notice that the string spans two lines and the whitespace generated by this C# instruction is kept in the following output:

```csharp
c:\source\repos    
        (this is where your code goes)
```

### Unicode escape characters

You can also add encoded characters in literal strings using the `\u` escape sequence, then a four-character code representing some character in Unicode (UTF-16).

```csharp
// Kon'nichiwa World
Console.WriteLine("\u3053\u3093\u306B\u3061\u306F World!");
```

### What is string interpolation?

String interpolation combines multiple values into a single literal string by using a "template" and one or more interpolation expressions. An interpolation expression is indicates by an opening and closing curly brace symbol `{ }`. You can put any C# expression that returns a value inside the braces. The literal string becomes a template when it's prefixed by the `$` character.

So instead of

```csharp
string message = greeting + " " + firstName + "!";
```

You can just

```csharp
string message = $"{greeting} {firstName}!";
```

Many find the string interpolation syntax cleaner and easier to read.

#### Combine verbatim literals and string interpolation

Suppose you need to use a verbatim literal in your template. You can use both the verbatim literal prefix symbol `@` and the string interpolation `$` symbol together.

### Recap

* Use character escape sequences when you need to insert a special character into a literal string, like a tab `\t`, new line `\n`, or a double quotation mark `\"`.
* Use an escape character for the backslash `\\` when you need to use a backslash in all other scenarios.
* Use the `@` directive to create verbatim string literal that keeps all whitespace formatting and backslash character in a string.
* Use the `\u` plus a four-character code to represent Unicode characters (UTF-16) in a string.
* Unicode characters may not print correctly depending on the application.
* String concatenation allows you to combine smaller literal and variable strings into a single string.
* Avoid creating intermediate variables if adding them doesn't increase readability.
* String interpolation provides an improvement over string concatenation by reducing the number of characters required in some situations.
* You can combine string interpolation and verbatim literals by combining the symbols for each and using that as a prefix for the string template.
